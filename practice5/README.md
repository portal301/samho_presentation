# Practice 5 - 3D Point Cloud Processing

## π“‹ κ°μ”
Open3Dλ¥Ό μ‚¬μ©ν• 3D ν¬μΈνΈ ν΄λΌμ°λ“ μ²λ¦¬ λ° λ””λ…Έμ΄μ§• μ—°μµ

## π― ν•™μµ λ©ν‘
- 3D ν¬μΈνΈ ν΄λΌμ°λ“ λ΅λ“ λ° μ‹κ°ν™”
- ν¬μΈνΈ ν΄λΌμ°λ“ λ””λ…Έμ΄μ§• νμ΄ν”„λΌμΈ κµ¬ν„
- **μ  λ¶„ν¬ κ· μΌν™” λ° μµμ ν™”** β­
- μ„±λ¥ ν‰κ°€ λ° κ²°κ³Ό λ¶„μ„
- 3κ° μ°½ λ™μ‹ μ‹κ°ν™”λ¥Ό ν†µν• λΉ„κµ

## π“ νμΌ κµ¬μ΅°
```
practice5/
β”β”€β”€ README.md                    # μ΄ νμΌ
β”β”€β”€ data/                        # 3D ν¬μΈνΈ ν΄λΌμ°λ“ λ°μ΄ν„°
β”‚   β”β”€β”€ bunny.xyz                # κΉ¨λ—ν• λ²„λ‹ ν¬μΈνΈ ν΄λΌμ°λ“
β”‚   β”β”€β”€ bunny_noisy.xyz          # λ…Έμ΄μ¦κ°€ μλ” λ²„λ‹ ν¬μΈνΈ ν΄λΌμ°λ“
β”‚   β””β”€β”€ denoised_bunny.xyz       # λ””λ…Έμ΄μ§•λ λ²„λ‹ ν¬μΈνΈ ν΄λΌμ°λ“
β”β”€β”€ point_cloud_loader.py        # ν¬μΈνΈ ν΄λΌμ°λ“ λ΅λ”
β”β”€β”€ denoising_processor.py       # λ””λ…Έμ΄μ§• ν”„λ΅μ„Έμ„ (μ  λ¶„ν¬ κ· μΌν™” ν¬ν•¨) β­
β”β”€β”€ performance_evaluator.py     # μ„±λ¥ ν‰κ°€κΈ°
β”β”€β”€ main.py              # λ””λ…Έμ΄μ¦ λ©”μΈ μ‹¤ν–‰ νμΌ
β””β”€β”€ visualization_tools.py       # 3D μ‹κ°ν™” λ„κµ¬ (3κ° μ°½ λ™μ‹ ν‘μ‹)
```

## π€ μ‹¤ν–‰ λ°©λ²•

### 3D μ‹κ°ν™” λ„κµ¬ (μ¶”μ²) β­
```bash
cd practice5
python visualization_tools.py
```

### κ°λ³„ λ¨λ“ μ‹¤ν–‰
```bash
cd practice5
python point_cloud_loader.py      # ν¬μΈνΈ ν΄λΌμ°λ“ λ΅λ”
python denoising_processor.py     # λ””λ…Έμ΄μ§• ν”„λ΅μ„Έμ„ (κ· μΌν™” ν¬ν•¨)
python performance_evaluator.py   # μ„±λ¥ ν‰κ°€κΈ°
python visualization_tools.py     # 3κ° μ°½ μ‹κ°ν™”
python rotate_bunny_axes.py       # λ²„λ‹ μΆν‘μ¶• νμ „ (μ: zμ¶• 45λ„)
python shift_bunny_z.py           # λ²„λ‹ zμ¶• μ΄λ™/μ¤‘μ•™μ •λ ¬
python icp_demo.py                # μ „μ—­μ •ν•©β†’ICP μ •λ ¬ λ°λ¨
```

## π¨ μ£Όμ” κΈ°λ¥

### 3D μ‹κ°ν™” λ„κµ¬ (`visualization_tools.py`) β­
- **3κ° μ°½ λ™μ‹ ν‘μ‹**: μ›λ³Έ, λ…Έμ΄μ¦, λ””λ…Έμ΄μ§•λ λ²„λ‹λ¥Ό λ³„λ„ μ°½μ— ν‘μ‹
- **μ°½ μ„μΉ μµμ ν™”**: ν™”λ©΄μ— κ²ΉμΉμ§€ μ•λ„λ΅ λ°°μΉ
- **λ…λ¦½μ  μ΅°μ‘**: κ° μ°½μ„ λ…λ¦½μ μΌλ΅ νμ „, ν™•λ€/μ¶•μ†, μ΄λ™
- **μ‹¤μ‹κ°„ λΉ„κµ**: 3κ° μ°½μ„ λ™μ‹μ— μ΅°μ‘ν•μ—¬ λΉ„κµ

### ν¬μΈνΈ ν΄λΌμ°λ“ λ΅λ” (`point_cloud_loader.py`)
- **XYZ νμΌ λ΅λ“**: `.xyz` ν•μ‹ ν¬μΈνΈ ν΄λΌμ°λ“ νμΌ λ΅λ“
- **λ°μ΄ν„° κ²€μ¦**: νμΌ μ΅΄μ¬ μ—¬λ¶€ λ° ν¬μΈνΈ μ ν™•μΈ
- **Open3D λ³€ν™**: NumPy λ°°μ—΄μ„ Open3D ν¬μΈνΈ ν΄λΌμ°λ“ κ°μ²΄λ΅ λ³€ν™
- **μ¤λ¥ μ²λ¦¬**: νμΌ λ΅λ“ μ‹¤ν¨ μ‹ μ μ ν• μ¤λ¥ λ©”μ‹μ§€

### λ””λ…Έμ΄μ§• ν”„λ΅μ„Έμ„ (`denoising_processor.py`) β­
- **λ³µμ…€ λ‹¤μ΄μƒν”λ§**: `voxel_downsampling()` - μ  λ¶„ν¬ κ· μΌν™” λ° λ…Έμ΄μ¦ κ°μ†
- **κ· μΌ λ‹¤μ΄μƒν”λ§**: `uniform_downsampling()` - μΌμ •ν• κ°„κ²©μΌλ΅ ν¬μΈνΈ μ„ νƒ
- **ν†µκ³„μ  μ•„μ›ƒλΌμ΄μ–΄ μ κ±°**: `remove_statistical_outliers()` - μ΄μƒμΉ ν¬μΈνΈ μ κ±°
- **λ²•μ„  λ²΅ν„° κ³„μ‚°**: `estimate_normals()` - ν‘λ©΄ λ°©ν–¥ μ¶”μ •
- **DBSCAN ν΄λ¬μ¤ν„°λ§**: `dbscan_clustering()` - λ…Έμ΄μ¦ μ κ±°
- **κ· μΌ μ  λ¶„ν¬**: `uniform_point_distribution()` - λ©ν‘ λ°€λ„μ— λ§μ¶ κ· μΌ λ¶„ν¬ μƒμ„±
- **ν†µν•© λ””λ…Έμ΄μ§•**: `denoise_point_cloud()` - μ „μ²΄ νμ΄ν”„λΌμΈ μ‹¤ν–‰ (κ· μΌν™” ν¬ν•¨)

### μ„±λ¥ ν‰κ°€κΈ° (`performance_evaluator.py`)
- **ICP μ •λ ¬**: `align_point_clouds()` - ν¬μΈνΈ ν΄λΌμ°λ“ μ •λ ¬
- **κ±°λ¦¬ κ³„μ‚°**: `calculate_point_distances()` - ν¬μΈνΈ κ°„ κ±°λ¦¬ μΈ΅μ •
- **μ„±λ¥ ν‰κ°€**: `evaluate_denoising_performance()` - κ°μ„ λ¥  κ³„μ‚°
- **κ²°κ³Ό μ”μ•½**: `print_performance_summary()` - μ„±λ¥ μ§€ν‘ μ¶λ ¥

### κ²°κ³Ό μ €μ¥κΈ° (`result_saver.py`)
- **XYZ νμΌ μ €μ¥**: `save_point_cloud_to_xyz()` - κ²°κ³Όλ¥Ό XYZ νμΌλ΅ μ €μ¥
- **ν†µκ³„ μ •λ³΄**: `print_statistics()` - ν¬μΈνΈ μ λ° μ²λ¦¬ μ‹κ°„ μ¶λ ¥
- **μ„±λ¥ λ³΄κ³ μ„**: `save_performance_report()` - μƒμ„Έν• μ„±λ¥ λ³΄κ³ μ„ μƒμ„±
- **μ”μ•½ λ³΄κ³ μ„**: `create_summary_report()` - μΆ…ν•©μ μΈ μ”μ•½ λ³΄κ³ μ„

## π® μ‚¬μ©λ²•

### 3D μ‹κ°ν™” λ„κµ¬ μ‹¤ν–‰
1. **ν”„λ΅κ·Έλ¨ μ‹¤ν–‰**: GUI μ°½μ΄ μ—΄λ¦½λ‹λ‹¤
2. **"3D μ‹κ°ν™” μ‹μ‘" λ²„νΌ ν΄λ¦­**: 3κ°μ 3D μ°½μ΄ λ™μ‹μ— μ—΄λ¦½λ‹λ‹¤
3. **κ° μ°½ λ…λ¦½ μ΅°μ‘**:
   - **λ§μ°μ¤ λ“λκ·Έ**: 3D λ¨λΈ νμ „
   - **λ§μ°μ¤ ν **: ν™•λ€/μ¶•μ†
   - **Shift + λ“λκ·Έ**: μ΄λ™
4. **μ°½ κ΄€λ¦¬**:
   - κ°λ³„ μ°½ λ‹«κΈ°: ν•΄λ‹Ή μ°½λ§ μΆ…λ£
   - GUI μΆ…λ£ λ²„νΌ: λ¨λ“  μ°½ λ™μ‹ μΆ…λ£

### μ°½ λ°°μΉ
```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  Original Bunny β”‚  β”‚   Noisy Bunny   β”‚  β”‚ Denoised Bunny  β”‚
β”‚                 β”‚  β”‚                 β”‚  β”‚                 β”‚
β”‚   (μ™Όμ½ μ°½)     β”‚  β”‚   (μ¤‘μ•™ μ°½)     β”‚  β”‚   (μ¤λ¥Έμ½ μ°½)   β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## π― μ‹¤μµ λ―Έμ…

### λ―Έμ… 1: 3D μ‹κ°ν™” λ° λΉ„κµ
1. 3D μ‹κ°ν™” λ„κµ¬ μ‹¤ν–‰
2. 3κ°€μ§€ ν¬μΈνΈ ν΄λΌμ°λ“ μ „ν™ν•λ©° λΉ„κµ
3. μ‹κ°μ  μ°¨μ΄μ  κ΄€μ°°
4. ν¬μΈνΈ μ λ³€ν™” ν™•μΈ

### λ―Έμ… 2: κΈ°λ³Έ ν¬μΈνΈ ν΄λΌμ°λ“ μ²λ¦¬
1. ν¬μΈνΈ ν΄λΌμ°λ“ λ°μ΄ν„° λ΅λ“
2. κΈ°λ³Έ ν†µκ³„ μ •λ³΄ μ¶λ ¥
3. 3D μ‹κ°ν™”
4. κ²°κ³Ό μ €μ¥

### λ―Έμ… 3: λ””λ…Έμ΄μ§• νμ΄ν”„λΌμΈ κµ¬ν„
1. λ³µμ…€ λ‹¤μ΄μƒν”λ§ μ μ© (μ  λ¶„ν¬ κ· μΌν™”)
2. μ•„μ›ƒλΌμ΄μ–΄ μ κ±°
3. λ²•μ„  λ²΅ν„° κ³„μ‚°
4. ν΄λ¬μ¤ν„°λ§ κΈ°λ° λ…Έμ΄μ¦ μ κ±°

### λ―Έμ… 4: μ  λ¶„ν¬ κ· μΌν™” μ‹¤ν— β­
1. κ· μΌ λ‹¤μ΄μƒν”λ§ μ μ©
2. λ©ν‘ λ°€λ„ μ„¤μ • λ° μ΅°μ •
3. κ· μΌ λ¶„ν¬ κ²°κ³Ό ν™•μΈ
4. μ„±λ¥ λΉ„κµ λ¶„μ„

### λ―Έμ… 5: μ„±λ¥ ν‰κ°€ μ‹μ¤ν…
1. ICPλ¥Ό μ‚¬μ©ν• ν¬μΈνΈ ν΄λΌμ°λ“ μ •λ ¬
2. κ±°λ¦¬ κΈ°λ° μ„±λ¥ μΈ΅μ •
3. κ°μ„ λ¥  κ³„μ‚°
4. κ²°κ³Ό λ³΄κ³ μ„ μƒμ„±

## π”§ μ£Όμ” νλΌλ―Έν„°

### λ³µμ…€ λ‹¤μ΄μƒν”λ§ (μ  λ¶„ν¬ κ· μΌν™”)
```python
voxel_size = 0.05  # λ³µμ…€ ν¬κΈ° (μ‘μ„μλ΅ λ” λ§μ€ ν¬μΈνΈ μ μ§€)
```

### κ· μΌ λ‹¤μ΄μƒν”λ§
```python
every_k_points = 5  # kκ°λ§λ‹¤ ν•λ‚μ ν¬μΈνΈ μ„ νƒ
```

### κ· μΌ μ  λ¶„ν¬
```python
target_density = 1000  # λ©ν‘ ν¬μΈνΈ λ°€λ„
```

### μ•„μ›ƒλΌμ΄μ–΄ μ κ±°
```python
nb_neighbors = 20  # μ΄μ›ƒ ν¬μΈνΈ μ
std_ratio = 2.0    # ν‘μ¤€νΈμ°¨ λΉ„μ¨
```

### DBSCAN ν΄λ¬μ¤ν„°λ§
```python
eps = 0.05         # μ΄μ›ƒ ν¬μΈνΈ κ°„ μµλ€ κ±°λ¦¬
min_points = 5     # ν΄λ¬μ¤ν„°λ΅ μΈμ •ν•  μµμ† ν¬μΈνΈ μ
```

### ICP μ •λ ¬
```python
max_distance = 0.1  # μµλ€ κ±°λ¦¬ μ„κ³„κ°’
```

## π“ μ„±λ¥ λ©”νΈλ¦­

### κ°μ„ λ¥  κ³„μ‚°
```python
improvement = ((original_distance - denoised_distance) / original_distance) * 100
```

### ν¬μΈνΈ μ λ³€ν™”
```python
reduction_rate = ((original_points - denoised_points) / original_points) * 100
```

### μ  λ¶„ν¬ κ· μΌμ„±
```python
uniformity_score = calculate_uniformity(denoised_pcd)
```

## π“ μμ  κ²°κ³Ό

### 3D μ‹κ°ν™” κ²°κ³Ό
- **μ›λ³Έ λ²„λ‹**: κΉ¨λ—ν•κ³  λ§¤λ„λ¬μ΄ ν‘λ©΄
- **λ…Έμ΄μ¦ λ²„λ‹**: μ λ“¤μ΄ λ¶κ·μΉ™ν•κ² λ¶„ν¬
- **λ””λ…Έμ΄μ§•λ λ²„λ‹**: λ…Έμ΄μ¦κ°€ μ κ±°λκ³  κ· μΌν•κ² λ¶„ν¬λ λ§¤λ„λ¬μ΄ ν‘λ©΄

### λ””λ…Έμ΄μ§• μ„±λ¥
- μ›λ³Έ λ…Έμ΄μ¦ ν¬μΈνΈ β†’ λ””λ…Έμ΄μ§•λ ν¬μΈνΈ
- κ°μ„ λ¥  κ³„μ‚° λ° μ‹κ°ν™”
- μ²λ¦¬ μ‹κ°„ λ° ν†µκ³„ μ •λ³΄
- μ  λ¶„ν¬ κ· μΌμ„± ν–¥μƒ

### μ  λ¶„ν¬ κ· μΌν™” ν¨κ³Ό β­
- **λ³µμ…€ λ‹¤μ΄μƒν”λ§**: λ°€λ„κ°€ λ†’μ€ μμ—­μ ν¬μΈνΈλ¥Ό μ¤„μ—¬μ„ κ· μΌν• λ¶„ν¬ μƒμ„±
- **κ· μΌ λ‹¤μ΄μƒν”λ§**: μΌμ •ν• κ°„κ²©μΌλ΅ ν¬μΈνΈλ¥Ό μ„ νƒν•μ—¬ κ· μΌν• λ¶„ν¬ μƒμ„±
- **λ©ν‘ λ°€λ„ μ΅°μ •**: μ‚¬μ©μκ°€ μ›ν•λ” ν¬μΈνΈ λ°€λ„λ΅ μ΅°μ • κ°€λ¥

## π› οΈ μ„¤μΉ μ”κµ¬μ‚¬ν•­

### ν•„μ ν¨ν‚¤μ§€
```bash
pip install open3d numpy matplotlib
```

## π“ μ°Έκ³  μλ£
- [Open3D Documentation](http://www.open3d.org/docs/)
- [Open3D Python API](http://www.open3d.org/docs/release/python_api/)
- [Point Cloud Processing Tutorial](http://www.open3d.org/docs/release/tutorial/geometry/pointcloud.html) 